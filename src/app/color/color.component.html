<div class="description-wrapper no-print">
    <div class="description">
        <p>Glimmerbyte is a color therapy app that allows users to create and print out their very own generated fill in the cell coloring table.</p>
        <h5>Instructions</h5>
        <ol>
            <li>Select the number of rows within the range (1-1000).</li>
            <li>Select the number of columns within the range (1-702).</li>
            <li>Select the number of color options you would like to have.</li>
            <li>Click 'Submit' to create your table.</li>
            <li>Select the color you would like to 'draw' with and click on the cells to fill them in.</li>
            <li>If you would like to change the color of those selected tiles you can change it in the dropdown menu.</li>
        </ol>
    </div>
</div>

<hr class="no-print">

<form class="no-print" [formGroup]="rowsColumnsColorsForm" (ngSubmit)="onSubmit()">
    <div class="first-form">
    <p>
        Rows (1-1000):
        <input type="text" formControlName="rows" name="rows" />

        @if (rows?.invalid && (rows?.touched || rows?.dirty)) {
            @if (rows?.hasError('required')) { <span class="error-box">Required!</span> }
            @if (rows?.hasError('min')) { <span class="error-box">Minimum is 1!</span> }
            @if (rows?.hasError('max')) { <span class="error-box">Maximum is 1000!</span> }
            @if (rows?.hasError('pattern')) { <span class="error-box">Only numeric characters are allowed!</span> }

        }
    </p>
    </div>
    <p>
        Columns (1-702):
        <input type="text" formControlName="columns" name="columns" />

        @if (columns?.invalid && (columns?.touched || columns?.dirty)) {
            @if (columns?.hasError('required')) { <span class="error-box">Required!</span> }
            @if (columns?.hasError('min')) { <span class="error-box">Minimum is 1!</span> }
            @if (columns?.hasError('max')) { <span class="error-box">Maximum is 702!</span> }
            @if (columns?.hasError('pattern')) { <span class="error-box">Only numeric characters are allowed!</span> }
        }
    </p>
    <p>
        Colors (1-{{ this.numberOfColorsInDatabase }}):
        <input type="text" formControlName="colors" name="colors" />
        
        @if (colors?.invalid && (colors?.touched || colors?.dirty)) {
            @if (colors?.hasError('required')) { <span class="error-box">Required!</span> }
            @if (colors?.hasError('min')) { <span class="error-box">Minimum is 1!</span> }
            @if (colors?.hasError('max')) { <span class="error-box">Maximum is {{ this.numberOfColorsInDatabase }}!</span> }
            @if (colors?.hasError('pattern')) { <span class="error-box">Only numeric characters are allowed!</span> }

        }
    </p>

    <div class="submit-button-container">
        <button class="primary-button" type="submit"[disabled]="rowsColumnsColorsForm.invalid">Submit</button>
    </div>
</form>

@if (formSubmitted) {
    <app-color-generator [rows]="numberOfRows!" [columns]="numberOfColumns!" [amountOfColorOptions]="numberOfColors!">
    </app-color-generator>
}
